<%- include('../components/header') -%>

<script src="/scripts/quiz_helper.js"></script>

<h1 class="font-bold text-4xl my-6 text-gray-700 text-center">Edit Quiz</h1>

<div class="max-w rounded m-4 overflow-hidden shadow-lg">
  <div class="px-6 py-4">
    <form method="POST" action="/quiz/<%= quiz.id %>">
      <div class="font-bold text-2xl text-gray-700 mb-2">Name of the Quiz</div>
      <input
        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
        type="text"
        name="title"
        value="<%= quiz.title %>"
      />
      <textarea
        class="autoexpand tracking-wide py-2 px-4 mb-3 leading-relaxed appearance-none block w-full bg-gray-200 border border-gray-200 rounded focus:outline-none focus:bg-white"
        name="description"
      ><%= quiz.description %></textarea>
      <h2>Link: /quiz/<%= quiz.code %>/private</h2>

      <label class="inline-flex items-center mt-3">
        <% let checked = quiz.isPublic ? "checked" : "" %>

        <input 
          type="checkbox"
          name="isPublic"
          class="form-checkbox h-5 w-5 text-gray-600"
          <%= checked %>
        >
        <span class="ml-2 text-gray-700">Is public?</span>
      </label>

      <div class="px-6 pt-4 pb-5 flex flex-col-reverse">
        <input
          type="submit"
          class="self-end shadow bg-teal-500 hover:bg-teal-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"
          value="Update Quiz"
        >
      </div>
    </form>
    <div class="font-bold text-2xl text-gray-700 mb-2">Questions</div>

    <div id="questions">
      <% quiz.questions.map((question, index) => { %>
        <%- include('./question', { quizID: quiz.id, question: question }) -%>
      <% }) %>
    </div>
    <%- include('./new_question', { quizID: quiz.id }) -%>

  </div>
</div>

<%- include('../components/footer') -%> 